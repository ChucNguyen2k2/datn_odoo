<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="view_attendance_log_kiosk" model="ir.ui.view">
        <field name="name">school.attendance.log.kiosk</field>
        <field name="model">hr.employee</field>
        <field name="arch" type="xml">
            <kiosk>
                <t t-foreach="employees" t-as="employee">
                    <div class="attendance-card">
                        <img t-att-src="kanban_image('hr.employee', 'image', employee.id)" class="employee-image"/>
                        <h3><t t-esc="employee.name"/></h3>
                        <button name="attendance_action" type="object" class="btn-attendance" t-att-data-employee-id="employee.id">
                            <t t-if="employee.attendance_state == 'checked_in'">Check Out</t>
                            <t t-else="">Check In</t>
                        </button>
                    </div>
                </t>
            </kiosk>
        </field>
    </record>

    <record id="action_attendance_log_kiosk" model="ir.actions.client">
        <field name="name">Attendance Kiosk</field>
        <field name="tag">kiosk_mode</field>
        <field name="params" eval="{'action': 'school_attendance_log.action_attendance_kiosk', 'views': [[False, 'kiosk']]}"/>
    </record>

    <menuitem id="menu_attendance_log" name="Attendance Kiosk" parent="school_hr_root" action="action_attendance_log_kiosk" sequence="2"/>

    <record id="view_attendance_log_tree" model="ir.ui.view">
        <field name="name">school.attendance.log.tree</field>
        <field name="model">school.attendance.log</field>
        <field name="arch" type="xml">
            <tree string="Attendance Logs">
                <field name="employee_id"/>
                <field name="check_in"/>
                <field name="check_out"/>
                <field name="location"/>
                <field name="ip_address"/>
                <field name="latitude"/>
                <field name="longitude"/>
            </tree>
        </field>
    </record>

    <record id="view_attendance_log_form" model="ir.ui.view">
        <field name="name">school.attendance.log.form</field>
        <field name="model">school.attendance.log</field>
        <field name="arch" type="xml">
            <form string="Attendance Log Details">
                <sheet>
                    <group>
                        <field name="employee_id"/>
                        <field name="check_in"/>
                        <field name="check_out"/>
                        <field name="location"/>
                        <field name="ip_address"/>
                        <field name="latitude"/>
                        <field name="longitude"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <record id="action_attendance_log" model="ir.actions.act_window">
        <field name="name">Attendance Logs</field>
        <field name="res_model">school.attendance.log</field>
        <field name="view_mode">tree,form</field>
    </record>
</odoo>